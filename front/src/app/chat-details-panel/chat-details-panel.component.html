@if (chat(); as chat) {

  @if (chat.project(); as project) {

    <div class="header">
      <h2>Projet</h2>
      @if (isMobile()) {
<button (click)="close()">
        <i class="fa-regular fa-times-circle"></i>
      </button>
}
    </div>

    <div class="content">
      <div class="box">
        @for (type of project.types; track type) {

          <div class="detail">
            {{ temp[type].text | translate }}
            <i class="type-icon" [ngClass]="temp[type].icon"></i>
          </div>
          <hr />

}

        @if (project.isFirstTattoo) {

          <div class="detail">
            <div class="name">Premier tatouage</div>
            <i class="fa-solid fa-stars"></i>
          </div>
          <hr />

}

        @if (project.isCoverUp) {

          <div class="detail">
            <div class="name">Recouvrement</div>
            <i class="fa-solid fa-star-half-stroke"></i>
          </div>
          <hr />

}

        @if (project.isPostOperationOrOverScar) {

          <div class="detail">
            <div class="name">Post opé</div>
            <i class="fa-solid fa-bandage"></i>
          </div>
          <hr />

}

        <div class="detail">
          <div class="name">Zone</div>
          <div class="text-bold">{{ project.zone }}</div>
        </div>
        <hr />

        <div class="detail">
          <div class="name">Taille (lxh)</div>
          <div class="text-bold">
            {{ project.widthCm }}x{{ project.heightCm }}
          </div>
        </div>

        @if (project.additionalInformation) {

          <hr />
          <div class="detail">
            <div class="name break-lines text-center footnote">
              {{ project.additionalInformation }}
            </div>
          </div>

}
      </div>

      @if (project.illustrations) {

        <h3>Illustrations</h3>
        <div class="media-grid">
          @for (src of project.illustrations; track src) {
  <button

            (click)="openModalPreview(src)"
            class="cursor-pointer media"
          >
            <img [src]="src" />
          </button>
}
        </div>

}

      @if (project.appointments) {

        <h3>Rendez-vous</h3>
        <div class="events">
          @for (event of project.appointments; track event.id) {
  <app-calendar-item

            [event]="event"
            date
          ></app-calendar-item>
}
        </div>

}

      @if (project.customerAvailability) {

        <h3>Disponibilités</h3>
        <div class="box footnote">
          {{ project.customerAvailability }}
        </div>

}

      @if (project.locations) {

        <h3>Emplacement</h3>
        <div class="media-grid">
          @for (src of project.locations; track src) {
  <button

            (click)="openModalPreview(src)"
            class="cursor-pointer media"
          >
            <img [src]="src" />
          </button>
}
        </div>

}

      @if (project.flashs) {

        <h3>Flash</h3>
        <div class="media-grid">
          @for (flash of project.flashs; track flash) {
  <app-flash-item
            class="media"

            [flash]="flash"
            hideAvailability
          >
          </app-flash-item>
}
        </div>

}

      @if (project.attachments) {

        <h3>Médias</h3>
        <div class="media-grid">
          @for (src of project.attachments; track src) {
  <button

            (click)="openModalPreview(src)"
            class="cursor-pointer media"
          >
            <img [src]="src" />
          </button>
}
        </div>

}
    </div>

}

}
